%%
%% Author: Clay
%% 2020/8/25
%%

\section{多处理器和多核组织结构}
{
    一般情况下，计算机被视为一台顺序执行的机器。
    在微操作级别，同一时间会产生多个控制信号。
    长期以来，指令流水线技术在一定程度上可以重叠取指和执行操作的执行。

    并行处理进一步提升系统性能，通过复制处理器来提供并行的能力：
    \emreg{对称多处理器(Symmetric Multiprocessors, SMPs)}，\emreg{多核计算机(Multicore Computer)}和\emreg{集群(Clusters)}。

    \subsection{对称多处理器}
    {
        一个对称多处理器SMP可以定义为具有特点的、独立的计算机系统：

        \begin{itemize}
            \item 具有两个或两个以上性能相当的处理器
            \item 处理器共享内存和I/O设备，并通过总线或其他内部连接方式互连
            \item 所有处理器通过相同的通道或连接到相同设备的不同通道共享对I/O设备的访问
            \item 所有处理器能执行相同的功能（称之为对称）
            \item 整个系统由操作系统进行控制
        \end{itemize}

        相比于单处理器结构，SMP结构具有很多潜在的优势：

    \begin{itemize}
        \item 性能
        \item 可用性
        \item 增量扩展
        \item 可伸缩性
    \end{itemize}

    SMP的一个显著特性是，多处理器的存在对用户来说是透明的，操作系统负责调度任务到每个处理器上，并负责处理器之间的同步。
    }

    \subsection{组织结构}
    {
        SMP有多个处理器，每个处理器都有自己的控制单元、算术逻辑单元和寄存器。
        每个处理器都可以通过某种形式的内部互联机制访问共享内存和I/O设备，共享总线就是一种常见的互联设施。
        处理器可以通过存储器相互通信，还可以直接交换信号。

        每个本地高速缓存包含一部分内存的映像，如果修改了高速缓存中的一个字，会使其他高速缓存中的这个字变得无效。
        当产生更新时，必须将这一更新告知其他的处理器。
        这个问题称为高速缓存的一致性问题，通常采用硬件方式解决。
    }

    \subsection{多核计算机}
    {
        \emreg{多核(Multicore)}计算机通常也称为\emreg{单芯片多处理器(Chip Multiprocessors)}，是指在一个块硅上组装了两个或多个处理器。

        开发多核计算机的动机可以总结如下。
        性能提升的原因一部分来自于硬件的发展，如微型计算机组件的日益小型化带来的时钟频率提高和越来越接近于处理器速度的高速缓存的访问能力。
        处理器的设计越来越复杂，指令的并行执行和内存的并行访问也是性能提升的原因之一。
        充分发挥硬件优势是提升性能的最好方法是将多个处理器和大容量的缓存集成在一块芯片上。

        \emreg{快速通道互连(Quick Path Interconnect, QPI)}是一个点对点的电气互连规范，它可以实现互连的多个处理器芯片间的高速通信。
    }
}
