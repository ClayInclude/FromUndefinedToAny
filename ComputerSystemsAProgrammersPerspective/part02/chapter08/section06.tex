%%
%% Author: Clay
%% 2021/1/22
%%

\section{非本地跳转}
{
    C语言提供了一种用户级异常控制流形式，称为\emreg{非本地跳转(nonlocal jump)}，它将控制直接从一个函数转移到另一个当前正在执行的函数，而不需要经过正常的调用-返回序列。

    setjmp函数只调用一次，但返回多次。
    longjmp被调用一次，但从不返回。

    非本地跳转的一个重要应用就是允许从一个深层嵌套的函数调用中立即返回，通常是由检测到某个错误情况引起的。

    longjmp 允许它跳过所有中间调用的特性可能产生意外的后果。

    非本地跳转的另一个重要应用是使一个信号处理程序分支到一个特殊的代码位置，而不是返回到被信号到达中断了的位置。

    必须在调用了sigsetjmp之后再设置处理程序。

    只在siglongjmp可达的代码中调用安全的函数。
}
